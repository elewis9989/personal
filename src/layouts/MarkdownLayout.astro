---
import type { Frontmatter } from "@/pages/writing/index.astro";
import Layout from "./Layout.astro";
import readingTime from "reading-time";

interface Props {
  frontmatter: Frontmatter;
  rawContent: () => string;
}
const { frontmatter, rawContent } = Astro.props;
const { title, excerpt, ogImage, date } = frontmatter;
---

<Layout
  title={title}
  description={excerpt}
  image={ogImage}
  type="article"
  date={date}
  background="bg-white"
  navColor="text-black"
  navUnderline="bg-black"
>
  <header class="px-1">
    <h1
      class="text-3xl lg:text-8xl uppercase text-center py-4 lg:py-8 font-avenir font-bold"
    >
      {title}
    </h1>
    <div class="flex items-center gap-2 md:text-lg font-normal text-zinc-500">
      <div
        class="flex grow flex-col sm:flex-row sm:items-center sm:justify-between mt-4"
      >
        <div>
          <span>Roze</span> /{" "}
          <time>
            {
              new Date(date).toLocaleDateString("en-us", {
                year: "numeric",
                month: "short",
                day: "numeric",
              })
            }
          </time>
        </div>
        <div class="flex items-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 0 24 24"
            width="24px"
            class="hidden sm:inline stroke-purple-300"
          >
            <path
              d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"
            ></path>
            <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path>
          </svg>
          <span>{readingTime(rawContent()).text}</span>
        </div>
      </div>
    </div>
  </header>
  <article class="prose max-w-screen-xl md:prose-xl px-1 lg:px-0 lg:mt-8">
    <slot />
  </article>
</Layout>
